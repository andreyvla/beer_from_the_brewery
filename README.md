# Пиво с завода - Telegram бот для продажи пива

Этот проект представляет собой Telegram бота, разработанного на Go, для продажи пива напрямую от производителя.  Бот предоставляет пользователям удобный интерфейс для просмотра ассортимента, поиска пива, добавления его в корзину и оформления заказа.

## Функциональность

* **Просмотр каталога пива:**  Пользователи могут просматривать список доступного пива с описанием, ценой и количеством в наличии.
* **Поиск пива по названию:**  Бот позволяет искать пиво по ключевым словам,  выводя  результаты  в  удобном  формате.
* **Корзина:**  Пользователи  могут  добавлять  пиво  в  корзину,  изменять  количество  и  оформлять  заказ.
* **Оформление заказа:**  Бот  сохраняет  информацию  о  заказе  в  базе  данных.
* **Администрирование (в планах):**  Планируется  добавить  функциональность  для  управления  ассортиментом  и  просмотра  заказов.

## Технологии

* **Go:**  Язык программирования,  использованный  для  разработки  бота.
* **Telegram Bot API:**  Используется  для  взаимодействия  с  Telegram.
* **PostgreSQL:**  База  данных  для  хранения  информации  о  пиве  и  заказах.
* **godotenv:**  Для  управления  переменными  окружения.

## Установка и запуск

1.  Клонируйте репозиторий:  `git clone <ссылка на репозиторий>`
2.  Перейдите в директорию проекта:  `cd beer_from_the_brewery`
3.  Создайте файл `.env` в корне проекта. **Этот файл  не  отслеживается  системой  контроля  версий  (добавлен  в .gitignore)  из  соображений  безопасности.**  Заполните его следующими переменными:

BOT_TOKEN=<ваш токен бота> POSTGRES_USER=<пользователь базы данных> POSTGRES_PASSWORD=<пароль базы данных> POSTGRES_HOST=<хост базы данных> POSTGRES_PORT=<порт базы данных> POSTGRES_DB=<название базы данных>


4.  **Вы  можете  задать  переменные  окружения  непосредственно  в  вашей  системе.**
5.  Установите зависимости:  `go mod download`
6.  Запустите бота:  `go run main.go`


## Структура базы данных

В базе данных используются четыре таблицы:

* **beers:**  Информация о каждом сорте пива.
    * `id`: Уникальный идентификатор пива (целое число).
    * `name`: Название пива (строка).
    * `description`: Описание пива (строка).
    * `price`: Цена пива (число с плавающей точкой).
    * `quantity`: Количество пива в наличии (целое число).
    * `image_url`: URL адрес изображения пива (строка).

* **order_items:**  Информация о товарах в каждом заказе.
    * `id`: Уникальный идентификатор элемента заказа (целое число).
    * `order_id`: Идентификатор заказа, к которому относится данный элемент (целое число).
    * `beer_id`: Идентификатор пива в заказе (целое число).
    * `quantity`: Количество данного пива в заказе (целое число).

* **orders:** Информация о заказах.
    * `id`: Уникальный идентификатор заказа (целое число).
    * `user_id`: Идентификатор пользователя, сделавшего заказ (целое число).
    * `order_date`: Дата заказа (дата и время).
    * `status`: Статус заказа (строка, например, "Новый", "В обработке", "Выполнен").

* **users:** Информация о пользователях.
    * `id`: Уникальный идентификатор пользователя (целое число).
    * `username`: Имя пользователя в Telegram (строка).
    * `first_name`: Имя пользователя (строка).
    * `last_name`: Фамилия пользователя (строка).




## Планы на будущее

* **Администрирование:**  Добавление  возможности  управлять  ассортиментом  и  просматривать  заказы  через  бота.
* **Уведомления:**  Отправка  уведомлений  пользователям  о  статусе  их  заказа.
* **Система оплаты:**  Интеграция  с  платежной  системой.
* **Расширенный поиск:**  Добавление  возможности  фильтровать  пиво  по  типу,  цене  и  другим  параметрам.

